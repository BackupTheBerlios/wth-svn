#
# configuration file for rrdproc
#
# for debugging pruposes set $DEBUG = 1, or set environment variable DEBUG=1 
$DEBUG = 1; 

%extraopts = (
    windsensor => {
        rrdfile => "windsensor.rrd"
    },
    rainsensor => {
        rrdfile => "/proj/wetter/logs/wmr9x8/rainsensor.rrd"
    },
    thin_sensor => {
        rrdfile => "/proj/wetter/logs/wmr9x8/thin_sensor.rrd"
    },
    thout_sensor => {
        rrdfile => "/proj/wetter/logs/wmr9x8/thout_sensor.rrd"
    },
    tin_sensor => {
        rrdfile => "/proj/wetter/logs/wmr9x8/tin_sensor.rrd"
    },
    thb_sensor => {
        rrdfile => "/proj/wetter/logs/wmr9x8/thb_sensor.rrd"
    },
    thbnew_sensor => {
        rrdfile => "/proj/wetter/logs/wmr9x8/thbnew_sensor.rrd"
    }
);

%createopts = ( 
    windsensor => {
    "--start" => 1304275000,
        "--step"  => 300,
    },
    rainsensor => {
        "--start" => 973709200,
        "--step"  => 300,
    },
    thin_sensor => {
        "--start" => 973709200,
        "--step"  => 300,
    },
    thout_sensor => {
        "--start" => 973709200,
        "--step"  => 300,
    },
    tin_sensor => {
        "--start" => 973709200,
        "--step"  => 300,
    },
    thb_sensor => {
        "--start" => 973709200,
        "--step"  => 300,
    },
    thbnew_sensor => {
        "--start" => 973709200,
        "--step"  => 300,
    }
);


%createdefs = (
    windsensor => [
       "DS:wind_direction:GAUGE:600:0:360",
       "DS:gust_windspeed:GAUGE:600:0:56",
       "DS:average_windspeed:GAUGE:600:0:56",
       "DS:windchill:GAUGE:600:-52:60",
       "RRA:AVERAGE:0.5:1:600",
       "RRA:AVERAGE:0.5:6:700",
       "RRA:AVERAGE:0.5:24:775",
       "RRA:AVERAGE:0.5:288:797",
       "RRA:LAST:0.5:1:1" 
    ],
    rainsensor => [
       "DS:current_rainrate:GAUGE:600:-30:70",
       "DS:total_rainfall:GAUGE:600:0:100",
       "DS:yesterday_rainfall:GAUGE:600:0:100",
       "RRA:AVERAGE:0.5:1:600",
       "RRA:AVERAGE:0.5:6:700",
       "RRA:AVERAGE:0.5:24:775",
       "RRA:AVERAGE:0.5:288:797",
       "RRA:LAST:0.5:1:1" 
    ],
    thin_sensor => [
       "DS:temperature:GAUGE:600:-5:50",
       "DS:humidity:GAUGE:600:25:90",
       "DS:dew_temperature:GAUGE:600:0:49",
       "RRA:AVERAGE:0.5:1:600",
       "RRA:AVERAGE:0.5:6:700",
       "RRA:AVERAGE:0.5:24:775",
       "RRA:AVERAGE:0.5:288:797",
       "RRA:LAST:0.5:1:1" 
    ],
    thout_sensor => [
       "DS:temperature:GAUGE:600:-20:60",
       "DS:humidity:GAUGE:600:25:90",
       "DS:dew_temperature:GAUGE:600:-10:60",
       "RRA:AVERAGE:0.5:1:600",
       "RRA:AVERAGE:0.5:6:700",
       "RRA:AVERAGE:0.5:24:775",
       "RRA:AVERAGE:0.5:288:797",
       "RRA:LAST:0.5:1:1" 
    ],
    tin_sensor => [
       "DS:temperature:GAUGE:600:-5:50",
       "RRA:AVERAGE:0.5:1:600",
       "RRA:AVERAGE:0.5:6:700",
       "RRA:AVERAGE:0.5:24:775",
       "RRA:AVERAGE:0.5:288:797",
       "RRA:LAST:0.5:1:1" 
    ],
    thb_sensor => [
       "DS:temperature:GAUGE:600:-5:50",
       "DS:humidity:GAUGE:600:25:90",
       "DS:dew_temperature:GAUGE:600:0:49",
       "DS:pressure:GAUGE:600:795:1050",
       "RRA:AVERAGE:0.5:1:600",
       "RRA:AVERAGE:0.5:6:700",
       "RRA:AVERAGE:0.5:24:775",
       "RRA:AVERAGE:0.5:288:797",
       "RRA:LAST:0.5:1:1" 
    ],
    thbnew_sensor => [
       "DS:temperature:GAUGE:600:-5:50",
       "DS:humidity:GAUGE:600:25:90",
       "DS:dew_temperature:GAUGE:600:0:49",
       "DS:pressure:GAUGE:600:795:1050",
       "RRA:AVERAGE:0.5:1:600",
       "RRA:AVERAGE:0.5:6:700",
       "RRA:AVERAGE:0.5:24:775",
       "RRA:AVERAGE:0.5:288:797",
       "RRA:LAST:0.5:1:1" 
    ]
);

%fetchopts = (
   windsensor =>  {
      "--start" => "-6000",
      LAST      => undef
   },
   rainsensor =>  {
      "--start" => "-6000",
      LAST      => undef
   },
   thin_sensor =>  {
      "--start" => "-6000",
      LAST      => undef
   },
   thout_sensor =>  {
      "--start" => "-6000",
      LAST      => undef
   },
   tin_sensor =>  {
      "--start" => "-6000",
      LAST      => undef
   },
   thb_sensor =>  {
      "--start" => "-6000",
      LAST      => undef
   },
   thbnew_sensor =>  {
      "--start" => "-6000",
      LAST      => undef
   }
);

%graphopts = (
    Indoorsensor => {
        Pressure => {
          "--start" => -86400,
          "--title"          => "Barometric Pressure",
          "--imgformat"      => "PNG",
          "--vertical-label" => "[mbar]",
          "--lower-limit"    => 980,
          "--upper-limit"    => 1020,
          "--width"          => 90,
          "--y-grid"         => "5:4",
          "--units-exponent" => 0,
          graphdefs => [
               "DEF:Pressure=/proj/wetter/logs/Indoorsensor.rrd:Pressure:AVERAGE",
               "CDEF:NNPressure=1.055615,Pressure,*",
               "LINE2:Pressure#00a000:Pressure",
               "GPRINT:Pressure:AVERAGE:Average %1.2lf\\n"
          ]
        },
        Temperature => {
          "--start" => -86400,
          "--title"          => "Temperature",
          "--imgformat"      => "PNG",
          "--vertical-label" => "[deg Celsius]",
          "--lower-limit"    => 0,
          "--width"          => 90,
          "--y-grid" => "5:2",
          "--units-exponent" => 0,
          graphdefs => [
               "DEF:Temperature=/proj/wetter/logs/Indoorsensor.rrd:Temperature:AVERAGE",
               "LINE2:Temperature#00a000:Temperature",
               "GPRINT:Temperature:AVERAGE:Average %1.2lf\\n"
          ]
        },
        Humidity => {
          "--start" => -86400,
          "--title"          => "Humidity",
          "--imgformat"      => "PNG",
          "--vertical-label" => "[% rel.hum.]",
          "--lower-limit"    => 0,
          "--width"          => 90,
          graphdefs => [
               "DEF:Humidity=/proj/wetter/logs/Indoorsensor.rrd:Humidity:AVERAGE",
               "LINE2:Humidity#00a000:Humidity",
               "GPRINT:Humidity:AVERAGE:Average %1.2lf\\n"
          ]
        }
    },
    Windsensor => {
        Winddirection => {
          "--start" => -86400,
          "--title"          => "Winddirection",
          "--imgformat"      => "PNG",
          "--vertical-label" => "[deg]",
          "--lower-limit"    => 0,
          "--upper-limit"    => 360,
          "--width"          => 90,
          "--y-grid"         => "5:4",
          "--units-exponent" => 0,
          graphdefs => [
               "DEF:Winddirection=/proj/wetter/logs/Windsensor.rrd:Winddirection:AVERAGE",
               "LINE2:Winddirection#00a000:Winddirection",
               "GPRINT:Winddirection:AVERAGE:Average %1.2lf\\n"
          ]
        },
        Windspeed => {
          "--start" => -86400,
          "--title"          => "Windspeed",
          "--imgformat"      => "PNG",
          "--vertical-label" => "[km/h]",
          "--lower-limit"    => 0,
          "--width"          => 90,
          "--y-grid" => "5:2",
          "--units-exponent" => 0,
          graphdefs => [
               "DEF:Windspeed=/proj/wetter/logs/Windsensor.rrd:Windspeed:AVERAGE",
               "LINE2:Windspeed#00a000:Windspeed",
               "GPRINT:Windspeed:AVERAGE:Average %1.2lf\\n"
          ]
        },
        Windvariation => {
          "--start" => -86400,
          "--title"          => "Windvariation",
          "--imgformat"      => "PNG",
          "--vertical-label" => "[deg]",
          "--lower-limit"    => 0,
          "--width"          => 90,
          graphdefs => [
               "DEF:Windvariation=/proj/wetter/logs/Windsensor.rrd:Windvariation:AVERAGE",
               "LINE2:Windvariation#00a000:Windvariation",
               "GPRINT:Windvariation:AVERAGE:Average %1.2lf\\n"
          ]
        }
    },
    Rainsensor => {
        Rainfall => {
          "--start" => -86400,
          "--title"          => "Rainfall",
          "--imgformat"      => "PNG",
          "--vertical-label" => "[mm]",
          "--lower-limit"    => 0,
          "--upper-limit"    => 360,
          "--width"          => 90,
          "--y-grid"         => "5:4",
          "--units-exponent" => 0,
          graphdefs => [
               "DEF:Rainfall=/proj/wetter/logs/Rainsensor.rrd:Rainfall:AVERAGE",
               "LINE2:Rainfall#00a000:Rainfall",
               "GPRINT:Rainfall:AVERAGE:Average %1.2lf\\n"
          ]
        }
    }
);


#@Sensors    = ( "windsensor", "rainsensor", "thin_sensor", "thout_sensor", "thbnew_sensor" );
@Sensors    = ( "windsensor" );
$WthDatabase = "/proj/wetter/logs/wmr9x8/wmr9x8.db";
